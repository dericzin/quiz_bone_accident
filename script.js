const quizzes = {
    osso1: {
        name: "Coxal Equino", // Nome do osso
        image: "coxal_equino.jpg", // Substitua com a imagem correta
        questions: [
            { question: "1. Nome do osso número 1", answer: "Ílio" },
            { question: "2. Nome do osso número 2", answer: "Púbis" },
            { question: "3. Nome do osso número 3", answer: "Ísquio" },
            { question: "4. Nome do Acidente Ósseo número 4", answer: "Tuberosidade Coxal" },
            { question: "5. Nome do Acidente Ósseo número 5", answer: "Tuberosidade Sacral" },
            { question: "6. Nome do Acidente Ósseo número 6", answer: "Tuberosidade Isquiática" },
            { question: "7. Nome do Acidente Ósseo número 7", answer: "Asa do Ílio" },
            { question: "8. Nome do Acidente Ósseo número 8", answer: "Crista Ilíaca" },
            { question: "9. Nome do Acidente Ósseo número 9", answer: "Face Articular" },
            { question: "10. Nome do Acidente Ósseo número 10", answer: "Incisura Isquiática Maior" },
            { question: "11. Nome do Acidente Ósseo número 11", answer: "Incisura Isquiática Menor" },
            { question: "12. Nome do Acidente Ósseo número 12", answer: "Espinha Isquiática" },
            { question: "13. Nome do Acidente Ósseo número 13", answer: "Eminência Iliopúbica" },
            { question: "14. Nome do Acidente Ósseo número 14", answer: "Forame Obturador" },
            { question: "15. Nome do Acidente Ósseo número 15", answer: "Sínfise Pélvica" },
            { question: "16. Nome do Acidente Ósseo número 16", answer: "Arco Isquiático" },
            { question: "17. Nome do Acidente Ósseo número 17", answer: "Acetábulo" },
            { question: "18. Nome do Acidente Ósseo número 18", answer: "Face Lunata" },
            { question: "19. Nome do Acidente Ósseo número 19", answer: "Fossa do Acetábulo" }

        ]
    },
    osso2: {
        name: "Crânio Equino - Lateral", // Nome do osso
        image: "cranio_equino_lateral.png", // Substitua com a imagem correta
        questions: [
            { question: "1. Nome do acidente ósseo 15?", answer: "Corpo do Incisivo" },
            { question: "2. Nome do acidente ósseo 16?", answer: "Processo Nasal do Incisivo" },
            { question: "3. Nome do acidente ósseo 17?", answer: "Dentes Incisivos" },
            { question: "4. Nome do acidente ósseo 21?", answer: "Incisura Nasoincisiva" },
            { question: "5. Nome do acidente ósseo 22?", answer: "Crista Facial" },
            { question: "6. Nome do acidente ósseo 24?", answer: "Diastema" },
            { question: "7. Nome do acidente ósseo 25?", answer: "Dentes Caninos" },
            { question: "8. Nome do acidente ósseo 26?", answer: "Dentes Pré-Molares" },
            { question: "9. Nome do acidente ósseo 27?", answer: "Dentes Molares" },
            { question: "10. Nome do acidente ósseo 28?", answer: "Tuberosidade Maxilar" },
            { question: "11. Nome do acidente ósseo 29?", answer: "Forame Infraorbital" },
            { question: "12. Nome do acidente ósseo 31?", answer: "Processo Temporal do Zigomático" },
            { question: "13. Nome do acidente ósseo 32?", answer: "Processo Zigomático do Frontal" },
            { question: "14. Nome do acidente ósseo 33?", answer: "Processo Zigomático do Temporal" },
            { question: "15. Nome do acidente ósseo 45?", answer: "Meato Acústico Externo" },
            { question: "16. Nome do acidente ósseo 53?", answer: "Crista Nucal" },
            { question: "17. Nome do acidente ósseo 54?", answer: "Côndilo do Occipital" },
            { question: "18. Nome do acidente ósseo 55?", answer: "Processo Paracondilar do Occipital" }

        ]
    },
    osso3: {
        name: "Crânio Equino - Dorsal", // Nome do osso
        image: "cranio_equino_dorsal.png", // Substitua com a imagem correta
        questions: [
            { question: "1. Nome do acidente ósseo 15?", answer: "Corpo do Incisivo" },
            { question: "2. Nome do acidente ósseo 16?", answer: "Processo Nasal do Incisivo" },
            { question: "3. Nome do acidente ósseo 22?", answer: "Crista Facial" },
            { question: "4. Nome do acidente ósseo 29?", answer: "Forame Infraorbital" },
            { question: "5. Nome do acidente ósseo 30?", answer: "Forame Supraorbital" },
            { question: "6. Nome do acidente ósseo 31?", answer: "Processo Temporal do Zigomático" },
            { question: "7. Nome do acidente ósseo 32?", answer: "Processo Zigomático do Frontal" },
            { question: "8. Nome do acidente ósseo 33?", answer: "Processo Zigomático do Temporal" },
            { question: "9. Nome do acidente ósseo 43?", answer: "Linha Temporal" },
            { question: "10. Nome do acidente ósseo 44?", answer: "Crista Sagital Externa" },
            { question: "11. Nome do acidente ósseo 46?", answer: "Fossa Temporal" },
            { question: "12. Nome do acidente ósseo 53?", answer: "Crista Nucal" }
        ]
    },
    osso4: {
        name: "Crânio Equino - Ventral", // Nome do osso
        image: "cranio_equino_ventral.png", // Substitua com a imagem correta
        questions: [
            { question: "1. Nome do acidente ósseo 15?", answer: "Corpo do Incisivo" },
            { question: "2. Nome do acidente ósseo 17?", answer: "Dentes Incisivos" },
            { question: "3. Nome do acidente ósseo 18?", answer: "Processo Palatino do Incisivo" },
            { question: "4. Nome do acidente ósseo 19?", answer: "Fissura Palatina" },
            { question: "5. Nome do acidente ósseo 20?", answer: "Canal Interincisivo" },
            { question: "6. Nome do acidente ósseo 22?", answer: "Crista Facial" },
            { question: "7. Nome do acidente ósseo 23?", answer: "Processo Palatino da Maxila" },
            { question: "8. Nome do acidente ósseo 24?", answer: "Diastema" },
            { question: "9. Nome do acidente ósseo 25?", answer: "Dentes Caninos" },
            { question: "10. Nome do acidente ósseo 26?", answer: "Dentes Pré-Molares" },
            { question: "11. Nome do acidente ósseo 27?", answer: "Dentes Molares" },
            { question: "12. Nome do acidente ósseo 28?", answer: "Tuberosidade Maxilar" },
            { question: "13. Nome do acidente ósseo 34?", answer: "Lâmina Perpendicular do Palatino" },
            { question: "14. Nome do acidente ósseo 35?", answer: "Lâmina Horizontal do Palatino" },
            { question: "15. Nome do acidente ósseo 36?", answer: "Forame Palatino Maior" },
            { question: "16. Nome do acidente ósseo 37?", answer: "Asa do Vômer" },
            { question: "17. Nome do acidente ósseo 38?", answer: "Haste do Vômer" },
            { question: "18. Nome do acidente ósseo 39?", answer: "Coanas" },
            { question: "19. Nome do acidente ósseo 40?", answer: "Hâmulo do Pterigoide" },
            { question: "20. Nome do acidente ósseo 41?", answer: "Basoesfenoide" },
            { question: "21. Nome do acidente ósseo 42?", answer: "Asa do Esfenoide" },
            { question: "22. Nome do acidente ósseo 47?", answer: "Bula Timpânica" },
            { question: "23. Nome do acidente ósseo 48?", answer: "Processos Musculares do Temporal" },
            { question: "24. Nome do acidente ósseo 49?", answer: "Forame Lácero" },
            { question: "25. Nome do acidente ósseo 50?", answer: "Tubérculo Articular do Temporal" },
            { question: "26. Nome do acidente ósseo 51?", answer: "Fossa Mandibular do Temporal" },
            { question: "27. Nome do acidente ósseo 52?", answer: "Processo Retroarticular do Temporal" },
            { question: "28. Nome do acidente ósseo 54?", answer: "Côndilo do Occipital" },
            { question: "29. Nome do acidente ósseo 55?", answer: "Processo Paracondilar do Occipital" },
            { question: "30. Nome do acidente ósseo 56?", answer: "Forame Magno" },
            { question: "31. Nome do acidente ósseo 57?", answer: "Parte Basilar do Occipital" },
            { question: "32. Nome do acidente ósseo 58?", answer: "Canal do Nervo Hipoglosso" }
        ]
    },
    osso5: {
        name: "Ossos do crânio Eq. Lat.", // Nome do osso
        image: "cranio_bovino_lateral.png", // Substitua com a imagem correta
        questions: [
            { question: "1. Nome do osso número 1?", answer: "Osso Incisivo" },
            { question: "2. Nome do osso número 2?", answer: "Osso Nasal" },
            { question: "3. Nome do osso número 3?", answer: "Osso Maxilar" },
            { question: "4. Nome do osso número 4?", answer: "Osso Lacrimal" },
            { question: "5. Nome do osso número 5?", answer: "Osso Zigomático" },
            { question: "6. Nome do osso número 6?", answer: "Osso Frontal" },
            { question: "7. Nome do osso número 7?", answer: "Osso Parietal" },
            { question: "8. Nome do osso número 8?", answer: "Osso Interparietal" },
            { question: "9. Nome do osso número 9?", answer: "Osso Temporal" },
            { question: "10. Nome do osso número 10?", answer: "Osso Occipital" },
            { question: "11. Nome do osso número 11?", answer: "Mandíbula" },
            { question: "12. Nome do osso número 12?", answer: "Osso Palatino" },
        ]
    },
    osso6: {
        name: "Mândibula Equino - Lateral", // Nome do osso
        image: "mandibula_equino_lateral.png", // Substitua com a imagem correta
        questions: [
            { question: "1. Nome do acidente ósseo 59?", answer: "Corpo da Mandíbula" },
            { question: "2. Nome do acidente ósseo 60?", answer: "Forame Mentoniano" },
            { question: "3. Nome do acidente ósseo 61?", answer: "Incisura Vascular" },
            { question: "4. Nome do acidente ósseo 62?", answer: "Ângulo da Mandíbula" },
            { question: "5. Nome do acidente ósseo 63?", answer: "Ramo da Mandíbula" },
            { question: "6. Nome do acidente ósseo 64?", answer: "Forame Mandibular" },
            { question: "7. Nome do acidente ósseo 65?", answer: "Processo Condilar da Mandíbula" },
            { question: "8. Nome do acidente ósseo 66?", answer: "Processo Coronoide da Mandíbula" }
        ]
    }
};

function normalizeString(str) {
    return str.normalize("NFD").replace(/[\u0300-\u036f]/g, "").toLowerCase();
}

function startQuiz() {
    const selectedBone = document.getElementById("bone-select").value;
    if (selectedBone) {
        document.getElementById("selection-container").style.display = "none";
        document.getElementById("quiz-container").style.display = "block";

        const quizData = quizzes[selectedBone];
        document.getElementById("osso-image").src = quizData.image;
        document.getElementById("quiz-title").innerText = quizData.name;

        const questionsDiv = document.getElementById("questions");
        questionsDiv.innerHTML = ''; // Limpa perguntas anteriores

        quizData.questions.forEach((q, index) => {
            const questionDiv = document.createElement("div");
            questionDiv.innerHTML = `
                <label for="answer${index + 1}">${q.question}</label>
                <input type="text" id="answer${index + 1}" placeholder="Digite sua resposta">
            `;
            questionsDiv.appendChild(questionDiv);
        });
    }
}

function checkAnswers() {
    const selectedBone = document.getElementById("bone-select").value;
    const correctAnswers = quizzes[selectedBone].questions.map(q => ({
        normalized: normalizeString(q.answer),
        original: q.answer
    }));

    const userAnswers = [];
    for (let i = 0; i < correctAnswers.length; i++) {
        userAnswers.push(normalizeString(document.getElementById(`answer${i + 1}`).value.trim()));
    }

    let score = 0;
    let resultMessage = `<h2>Resultados:</h2><ul class="results-list">`;

    userAnswers.forEach((answer, index) => {
        if (answer === correctAnswers[index].normalized) {
            score++;
            resultMessage += `<li>Pergunta ${index + 1}: Correta!</li>`;
        } else {
            resultMessage += `<li>Pergunta ${index + 1}: Errada! Resposta correta: ${correctAnswers[index].original}</li>`;
        }
    });

    resultMessage += `</ul><strong>Você acertou ${score} de ${correctAnswers.length} perguntas!</strong>`;
    document.getElementById("result").innerHTML = resultMessage;

    // Ocultar o botão "Enviar Respostas" após mostrar o resultado
    document.getElementById("submit-button").style.display = "none";
}

function retryQuiz() {
    // Limpa o resultado e exibe novamente o botão "Enviar Respostas"
    document.getElementById("result").innerHTML = '';
    document.getElementById("submit-button").style.display = "inline-block";

    // Limpa as respostas dos campos de texto
    const inputs = document.querySelectorAll("#questions input[type='text']");
    inputs.forEach(input => input.value = "");

    // Volta ao topo da página
    window.scrollTo(0, 0);
}

function goBack() {
    // Limpa as respostas anteriores e retorna à tela de seleção
    document.getElementById("quiz-container").style.display = "none";
    document.getElementById("selection-container").style.display = "block";
    document.getElementById("result").innerHTML = ''; // Limpa resultados
    document.getElementById("bone-select").selectedIndex = 0; // Reseta a seleção

    // Exibe novamente o botão "Enviar Respostas" caso tenha sido ocultado
    document.getElementById("submit-button").style.display = "inline-block";
}